/* ======================================================= */
/* css/sosial-style.css: Layout & Komponen Khusus SOSIAL.HTML*/
/* (LENGKAP dan Mandiri, Mencakup Gaya Dasar & Sosial)    */
/* ======================================================= */

/* --- BASE & UTILITIES --- */
* { box-sizing: border-box; scrollbar-width: none; }
*::-webkit-scrollbar { display: none; }
html { font-size: var(--font-size); }
body { 
    font-family: var(--font-family); background-color: var(--bg-color); 
    color: var(--text-color); margin: 0; overflow: hidden; 
    transition: background-color 0.5s, color 0.5s, font-family 0.2s; 
    -webkit-font-smoothing: antialiased; user-select: none; 
}
a { text-decoration: none; color: var(--accent-color); }
input, textarea, .selectable { -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text; user-select: text; }
img { pointer-events: none; user-select: none; -webkit-user-drag: none; }


/* --- ANIMASI LATAR BELAKANG --- */
#background-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden; pointer-events: none; }
.anim-object { position: absolute; }


/* --- STRUKTUR & KOMPONEN UI DASAR --- */
.screen { 
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
    display: flex; justify-content: center; align-items: center; 
    flex-direction: column; opacity: 0; visibility: hidden; 
    transition: opacity 0.3s ease; padding: 1rem; z-index: 10; 
}
.screen.active { opacity: 1; visibility: visible; }
.panel { 
    background-color: rgba(var(--panel-bg-raw), var(--panel-opacity)); 
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); 
    border: 1px solid var(--border-color); transition: var(--transition); 
    border-radius: var(--radius); box-shadow: var(--shadow); 
    display: flex; flex-direction: column; position: relative; 
}
.panel-header { padding: 1.5rem; flex-shrink: 0; position: relative; text-align: center; }
.panel-content { flex-grow: 1; overflow-y: auto; padding: 0 1.5rem 1.5rem; }

/* --- TOMBOL & FORM --- */
.btn { border-radius: var(--radius); transition: var(--transition); font-weight: 500; border: 1px solid transparent; cursor: pointer; padding: 0.75rem 1.5rem; font-size: 1rem; }
.btn:hover { transform: translateY(-2px); }
.btn-primary { background-color: var(--accent-color); color: white; }
.btn-primary:hover { background-color: var(--accent-hover); }
.btn-secondary { background-color: transparent; color: var(--accent-color); border-color: var(--border-color); }
.btn-secondary:hover { border-color: var(--accent-color); background-color: var(--bg-color); }
.btn-icon { background: none; padding: 0.5rem; border-radius: 50%; border: none; color: var(--subtle-text); }
.btn-icon:hover { background-color: var(--bg-color); color: var(--text-color); }
.close-btn { position: absolute; top: .75rem; right: .75rem; z-index: 20; }
.form-group { display: flex; flex-direction: column; gap: 0.5rem; }
.form-input { background-color: var(--bg-color); border: 1px solid var(--border-color); color: var(--text-color); transition: var(--transition); border-radius: 8px; padding: 0.75rem 1rem; width: 100%; font-size: 1rem; font-family: var(--font-family); }
.form-input:focus { outline: none; border-color: var(--accent-color); box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-color) 15%, transparent); }

/* Custom Select (Diperlukan di Edit Profile) */
.custom-select { position: relative; width: 100%; font-family: var(--font-family); }
.select-selected { background-color: var(--bg-color); border: 1px solid var(--border-color); border-radius: 8px; padding: 0.75rem 1rem; cursor: pointer; user-select: none; display: flex; justify-content: space-between; align-items: center; }
.select-selected:hover, .custom-select.active .select-selected { border-color: var(--accent-color); box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-color) 15%, transparent); }
.select-selected::after { content: ""; width: 0; height: 0; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 5px solid var(--text-color); transition: var(--transition); }
.custom-select.active .select-selected::after { transform: rotate(180deg); }
.select-items { position: absolute; background-color: rgba(var(--panel-bg-raw), 0.9); backdrop-filter: blur(10px); border: 1px solid var(--border-color); border-radius: var(--radius); top: 100%; left: 0; right: 0; z-index: 99; margin-top: 0.5rem; max-height: 200px; overflow-y: auto; display: none; }
.select-items div { color: var(--text-color); padding: 0.75rem 1rem; cursor: pointer; transition: var(--transition); }
.select-items div:hover { background-color: var(--accent-color); color: white; }

/* --- NOTIFICATION & LOADER --- */
/* Gaya ini harus disertakan agar loading screen berfungsi! */
.loader { 
    border: 4px solid var(--border-color); 
    border-left-color: var(--accent-color); 
    border-radius: 50%; 
    width: 50px; 
    height: 50px; 
    animation: spin 1s linear infinite; 
}
@keyframes spin { 
    to { transform: rotate(360deg); } 
}


/* --- LAYOUT KHUSUS SOSIAL.HTML --- */

/* Login & Profile Screen Sizes */
#profile-panel { width: 90%; max-width: 28rem; padding: 2rem; align-items: center; text-align: center; max-height: 90vh; }
#edit-profile-panel { width: 80%; max-width: 45rem; max-height: 90vh; }

/* Profile Elements */
#profile-desc { font-style: italic; color: var(--subtle-text); max-width: 90%; margin: 1rem 0; }
#profile-dob { font-size: 0.9rem; color: var(--subtle-text); }
.social-links { display: flex; justify-content: center; gap: 1rem; margin-top: 1.5rem; }
.social-links a:hover { color: var(--accent-color); transform: scale(1.1); }
.social-links svg { width: 24px; height: 24px; fill: currentColor; }

/* Edit Profile Photo Upload */
.profile-photo-upload { width: 80px; height: 80px; border-radius: 50%; margin: 0 auto 1rem auto; position: relative; cursor: pointer; pointer-events: all !important; flex-shrink:0; }
.profile-photo-upload img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
.profile-photo-upload::after { content: 'Ganti'; position: absolute; inset: 0; background: rgba(0,0,0,0.5); color: white; display: flex; align-items: center; justify-content: center; border-radius: 50%; opacity: 0; transition: var(--transition); pointer-events: none; }
.profile-photo-upload:hover::after { opacity: 1; }


/* Community Chat Layout */
#community-screen { padding: 0; background-color: transparent; }
#community-wrapper { width: 100%; height: 100%; max-width: 60rem; border-radius: var(--radius); overflow: hidden; display: flex; flex-direction: column; }
#community-header { flex-shrink: 0; text-align: center; background-color: rgba(var(--panel-bg-raw), var(--panel-opacity)); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border-color); padding: .75rem 1rem; }
#community-header .header-main { display: flex; align-items: center; justify-content: space-between; }
#online-users-info { font-size: 0.8rem; color: var(--subtle-text); margin-top: 4px; transition: var(--transition); }
#chat-box { flex-grow: 1; overflow-y: auto; padding: 1rem; display: flex; flex-direction: column; gap: .5rem; }

/* Chat Bubbles and Messages */
.date-separator { text-align: center; margin: 1rem 0 0.5rem; }
.date-separator span { background-color: var(--bg-color); color: var(--subtle-text); padding: 0.25rem 0.75rem; border-radius: var(--radius); font-size: 0.75rem; font-weight: 500; }
.chat-message { display: flex; gap: .75rem; max-width: 80%; }
.chat-message.out { align-self: flex-end; flex-direction: row-reverse; }
.chat-avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; flex-shrink: 0; cursor: pointer; pointer-events: all !important; }
.chat-bubble { padding: .6rem 1rem; border-radius: var(--radius); word-wrap: break-word; }
.chat-bubble.in { background-color: var(--chat-bubble-in); border-top-left-radius: 0; }
.chat-bubble.out { background-color: var(--chat-bubble-out); border-top-right-radius: 0; }
.chat-author { display: flex; align-items: center; gap: .5rem; font-size: .8rem; font-weight: 700; color: var(--accent-color); margin-bottom: .25rem; cursor: pointer; }
.chat-message.out .chat-author { display: none; }
.chat-meta { font-size: .7rem; color: var(--subtle-text); text-align: right; margin-top: .25rem; }

/* Chat Footer */
#community-footer { flex-shrink: 0; background-color: rgba(var(--panel-bg-raw), var(--panel-opacity)); backdrop-filter: blur(10px); padding: .75rem 1rem; display: flex; align-items: center; gap: .75rem; border-top: 1px solid var(--border-color); }
#chat-input { flex-grow: 1; max-height: 120px; overflow-y: auto; resize: none; }